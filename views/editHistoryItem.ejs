<%- include('partials/header', { title: 'Edit history item' }) %>

<div class="page-head">
  <div>
    <h1 class="h1">Edit item</h1>
    <p class="muted">List: <strong><%= listname %></strong></p>
  </div>
  <div class="page-actions">
    <a class="btn btn-ghost" href="/history/data?listname=<%= encodeURIComponent(listname) %>">Back</a>
  </div>
</div>

<div class="card">
  <div class="card-body">
    <form class="form" action="/history/edititem/update" method="POST">
      <input type="hidden" name="id" value="<%= itemToEdit.id %>" />
      <input type="hidden" name="listname" value="<%= listname %>" />

      <div class="field">
        <label class="label" for="itemname">Item</label>
        <input class="input" id="itemname" type="text" name="itemname" value="<%= itemToEdit.itemname %>" required />
      </div>

      <div class="form-row">
        <div class="field">
          <label class="label" for="quantity">Quantity</label>
          <input class="input" id="quantity" type="number" name="quantity" value="<%= itemToEdit.quantity %>" min="0" step="1" required />
        </div>
        <div class="field">
          <label class="label" for="price">Price</label>
          <input class="input" id="price" type="number" step="0.01" name="price" value="<%= itemToEdit.price %>" min="0" required />
        </div>
      </div>

      <div class="page-actions">
        <button class="btn btn-primary" type="submit">Save</button>
        <a class="btn btn-ghost" href="/history/data?listname=<%= encodeURIComponent(listname) %>">Cancel</a>
      </div>
    </form>
  </div>
</div>

<%- include('partials/footer') %>
