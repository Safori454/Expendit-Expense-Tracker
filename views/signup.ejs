<%- include('partials/header', { title: 'Create account', hideNav: true, bodyClass: 'auth' }) %>

<section class="auth-shell">
  <div class="auth-card card">
    <div class="card-header">
      <h1 class="h1" style="text-align: center;">Create Account</h1>
      <p class="muted" style="text-align: center;">Set up Expendit in under a minute.</p>
    </div>

    <div class="card-body">
      <% if (success) { %>
        <div class="alert">
          Your Expendit account is ready.
        </div>
        <div class="spacer-12"></div>
        <a class="btn btn-primary btn-block" href="/">Go to sign in</a>
      <% } else { %>
        <form class="form" action="/login/register" method="POST">
          <% if (error) { %>
            <div class="alert alert-danger"><%= error %></div>
          <% } %>

          <div class="field">
            <label class="label" for="username">Username</label>
            <input class="input" type="text" id="username" name="username" placeholder="Email or username" autocomplete="username" required />
          </div>

          <div class="field">
            <label class="label" for="password">Password</label>
            <input class="input" type="password" id="password" name="password" placeholder="Password" autocomplete="new-password" required />
          </div>

          <div class="field">
            <label class="label" for="confirm_password">Confirm password</label>
            <input class="input" type="password" id="confirm_password" name="confirm_password" placeholder="Confirm password" autocomplete="new-password" required />
          </div>

          <button class="btn btn-primary btn-block" type="submit">Create account</button>
        </form>

        <div class="divider"><span>Already have an account?</span></div>
        <a class="btn btn-ghost btn-block" href="/">Sign in</a>
      <% } %>
    </div>
  </div>
</section>

<%- include('partials/footer') %>
